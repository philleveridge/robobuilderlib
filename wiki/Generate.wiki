#summary Generate a dynamic walk

= Introduction =

Generate a dynamic walk


<code language="vb">
  'Generated gate from sinusoidal input
  STAND 16

  'Amplitude
  DATA A=10,13,15,11,10,11,13,15,11,10,22,1,9,22,1,9
  'Offset
  DATA B=123,166,211,92,107,129,83,42,159,144,91,43,47,161,209,205

  LET K=8           'initialize forward
  LIST !=$zeros(16) 'zero array 

Loop:
  IF k=6 THEN 
    DATA C=0,2,8,5,0,15,2,8,6,15,5,11,5,5,5,5
    PRINT "Reverse"
  ENDIF 

  IF k=8 THEN 
    DATA C=0,15,8,13,1,0,15,8,11,0,13,11,13,5,5,5
    PRINT "Forward"
  ENDIF 

  FOR X=0 TO 15
    FOR Y=0 TO 15
      LET P = @B[y] + @A[y]*$SIN((X + @C[y])*16)/32768
	  SET Y,P
    NEXT Y
    IF f THEN
         MOVE 0,16,1,25
    ELSE
         PRINT @!
    ENDIF
  NEXT X

  'check fo keyboard or IR input <- or -> arrows
  LET R=$KIR
  IF R=7 THEN final
  IF (r=6)or(r=8) THEN 
    LET k=r
    GOTO loop
  ENDIF

  'check PSD for distance
  LET P=$PSD
  IF P<20 THEN
    k=6
    GOTO loop
  ENDIF
  IF P>49 THEN
    LET k=8
    GOTO loop
  ENDIF

  'loop if no key pressed
  IF R<0 THEN loop
final:
  PRINT "done - ";r
  STAND 16
</code>